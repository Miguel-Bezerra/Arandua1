<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tela Principal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/styles.css">
</head>
<body>
  <div class="bg-layer"></div>

  <div id="app-wrapper">
    
    <!-- Sidebar/NavegaÃ§Ã£o -->
    <nav class="sidebar">
      <div class="logo-area">
        <div class="logo-circle"></div>
        <span class="app-title">Arandua</span>
      </div>
      <ul class="nav-links">
        <li><a href="./inicio.html" class="nav-link active">InÃ­cio</a></li>
      </ul>
      
    </nav>
    
    <!-- Ãrea principal -->
    <div class="main-content-area">
      
<header class="topbar">
  <div class="topbar-controls">
    <!-- BotÃ£o sidebar para mobile -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">
        â˜°
    </button>
    
    <!-- Barra de Pesquisa Melhorada -->
    <div class="search-container">
      <div class="search-box">
        <input 
            type="text" 
            id="searchInput" 
            placeholder="Buscar histÃ³rias, autores, categorias..."
            class="search-input"
        >
        <button type="button" id="searchClearBtn" class="search-clear-btn hidden">
            âœ•
        </button>
        <button type="button" id="searchActionBtn" class="search-action-btn">
            ğŸ”
        </button>
      </div>
    </div>

    <!-- Filtro de Categorias -->
    <div class="category-filter-container">
      <div class="category-filter-dropdown">
        <button type="button" class="category-filter-toggle" id="categoryFilterToggle">
          <span class="filter-icon">ğŸ›ï¸</span>
          <span class="filter-text">Filtrar</span>
          <span class="dropdown-arrow">â–¼</span>
        </button>
        <div class="category-filter-options hidden" id="categoryFilterOptions">
          <div class="categories-grid" id="categoryCheckboxes">
            <!-- Categorias carregadas dinamicamente -->
          </div>
          <div class="category-filter-actions">
            <button type="button" class="apply-categories-btn" onclick="aplicarFiltrosCategoria()">
              Aplicar
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Ãrea do usuÃ¡rio -->
    <div class="user-area">
      <button type="button" id="userButton" class="user-btn">
        <span class="user-name" id="userName">UsuÃ¡rio</span>
        <span class="user-dropdown-arrow">â–¼</span>
      </button>

      <!-- Dropdown do usuÃ¡rio -->
      <div id="userDropdown" class="dropdown-menu hidden">
        <ul>
          <li>
            <a href="../Tela_perfil/perfil.html" class="dropdown-link">
              <span>Editar perfil</span>
            </a>
          </li>
          <li>
            <a href="../Tela_sobre/sobre.html" class="dropdown-link">
              <span>Sobre</span>
            </a>
          </li>
          <li>
            <a href="#" class="dropdown-link" onclick="manipularLogout()">
              <span>Sair da conta</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>

      <main class="content">
        <!-- As postagens serÃ£o carregadas dinamicamente via JavaScript -->
      </main>
      <button type="button" id="fabButton" class="fab-button">+</button>
    </div>
  </div>

<!-- Modal de criaÃ§Ã£o de histÃ³ria -->
<div id="postCreationModal" class="modal-overlay hidden">
  <div class="modal-content">
    <h2>ğŸ“– Criar Nova HistÃ³ria</h2>
    <form id="postForm">
      <!-- TÃ­tulo da histÃ³ria -->
      <div class="form-group">
        <label for="postTitle">TÃ­tulo da HistÃ³ria</label>
        <input type="text" id="postTitle" placeholder="Digite o tÃ­tulo da sua histÃ³ria" required>
      </div>
      
      <!-- Categoria -->
      <div class="form-group">
        <label for="postCategory">Categoria</label>
        <select id="postCategory" required>
          <option value="">Selecione uma categoria</option>
          <option value="criaturas">ğŸ“– Criaturas</option>
          <option value="festas">ğŸ‰ Festas</option>
          <option value="conhecimentos">ğŸ§  Conhecimentos</option>
          <option value="costumes">ğŸ‘¥ Costumes</option>
          <option value="historia">ğŸ›ï¸ HistÃ³ria</option>
          <option value="arte">ğŸ¨ Arte</option>
          <option value="culinaria">ğŸ² CulinÃ¡ria</option>
          <option value="outros">ğŸ“Œ Outros</option>
        </select>
      </div>
      
      <!-- Imagem de capa -->
      <div class="form-group">
        <label for="postImage">Imagem de Capa (opcional)</label>
        <div class="image-upload-area">
          <label for="postImage" class="image-upload-btn">
            <span class="upload-icon">ğŸ“·</span>
            <span class="upload-text">Escolher Imagem</span>
          </label>
          <input type="file" id="postImage" accept="image/*" style="display: none;">
          <div id="imagePreview" class="image-preview" style="display: none;"></div>
        </div>
      </div>
      
      <!-- ConteÃºdo da histÃ³ria -->
      <div class="form-group">
        <label for="postContent">Sua HistÃ³ria</label>
        <textarea id="postContent" placeholder="Conte sua histÃ³ria aqui..." rows="8" required></textarea>
        <div class="character-count">
          <span id="charCount">0</span> caracteres
        </div>
      </div>
      
      <!-- Tags -->
      <div class="form-group">
        <label for="postTags">Tags (opcional)</label>
        <input type="text" id="postTags" placeholder="Digite tags separadas por vÃ­rgula (ex: aventura, magia, mistÃ©rio)">
      </div>
      
      <div class="modal-actions">
        <button type="button" id="cancelPostBtn" class="btn secondary">Cancelar</button>
        <button type="submit" class="btn primary">ğŸ“š Publicar HistÃ³ria</button>
      </div>
    </form>
  </div>
</div>

  <script src="./inicio.js"></script>
</body>
</html>